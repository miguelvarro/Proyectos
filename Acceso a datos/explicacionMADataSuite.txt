ğŸ“˜ MADataSuite
Proyecto: Clase personalizada de conexiÃ³n y acceso a datos
1ï¸âƒ£ DescripciÃ³n general del proyecto

MADataSuite es un sistema modular que implementa una arquitectura completa de acceso a datos basada en tres niveles de abstracciÃ³n:

Motor propio tipo SQL (MASQL) basado en ficheros CSV.

Conector personalizado a MySQL real (MADB).

Capa tipo ORM (MAORM) para mapear estructuras complejas (JSON â†” tabla).

VersiÃ³n multiplataforma en PHP (MADB.php) reutilizando el mismo diseÃ±o.

El proyecto demuestra dominio tanto del acceso directo a bases de datos como del diseÃ±o de capas de abstracciÃ³n y persistencia de objetos.

2ï¸âƒ£ Arquitectura del sistema

El sistema estÃ¡ dividido en tres capas conceptuales:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        AplicaciÃ³n (CLI)       â”‚
â”‚          main.py              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       â”‚        â”‚              â”‚
     MASQL    MADB     MAORM        MADB.php
 (Motor CSV) (MySQL) (ORM JSON)   (PHP MySQL)


Cada capa tiene un propÃ³sito diferente:

Componente	Nivel	FunciÃ³n
MASQL	Bajo	Motor propio basado en CSV
MADB (Python)	Medio	Conector personalizado a MySQL
MAORM	Alto	Capa de mapeo objeto â†” tabla
MADB (PHP)	Medio	VersiÃ³n PHP del conector
3ï¸âƒ£ ExplicaciÃ³n detallada de cada componente
ğŸ”¹ A) MASQL â€“ Motor SQL personalizado
UbicaciÃ³n:

python/engine/MASQL.py

QuÃ© es

Un motor propio que simula el funcionamiento bÃ¡sico de un sistema gestor de bases de datos utilizando:

Carpetas â†’ bases de datos

Archivos CSV â†’ tablas

QuÃ© implementa
1. SHOW DATABASES;

Lista carpetas dentro del directorio raÃ­z.

def _show_databases(self):

2. USE <db>;

Selecciona o crea la base de datos (carpeta).

def _use(self, sql):

3. SHOW TABLES;

Lista archivos CSV dentro de la base seleccionada.

def _show_tables(self):

4. INSERT INTO ... VALUES ...

Usa expresiones regulares para parsear la sentencia.

Divide correctamente tuplas respetando comillas.

Genera CSV si no existe.

Escribe cabecera automÃ¡ticamente si es la primera vez.

def _insert(self, sql):

5. SELECT * FROM tabla;

Lee CSV con csv.DictReader

Devuelve lista de diccionarios

def _select(self, sql):

QuÃ© demuestra MASQL

ComprensiÃ³n de cÃ³mo funciona internamente un SGBD.

Manejo de parsing SQL bÃ¡sico.

Persistencia estructurada en CSV.

SimulaciÃ³n de tablas y bases sin depender de MySQL.

ğŸ”¹ B) MADB (Python) â€“ Conector personalizado MySQL
UbicaciÃ³n:

python/connectors/MADB.py

QuÃ© es

Una clase que encapsula la conexiÃ³n a MySQL y proporciona una API limpia de acceso a datos.

Constructor
def __init__(self, host, usuario, contrasena, basedatos, port=3306)


Establece conexiÃ³n usando:

mysql.connector.connect(...)


El cursor se crea como:

self.cursor = self.conexion.cursor(dictionary=True)


Esto permite devolver resultados como diccionarios.

MÃ©todos principales
seleccionar(tabla)
SELECT * FROM tabla


Devuelve JSON formateado.

buscar(tabla, columna, valor)
SELECT * FROM tabla WHERE columna LIKE %valor%


Usa prepared statements â†’ evita inyecciÃ³n SQL.

tablas()

Ejecuta:

SHOW TABLES


Y devuelve lista de nombres.

insertar(tabla, datos_dict)

Construye dinÃ¡micamente:

INSERT INTO tabla (col1, col2) VALUES (%s, %s)


Demuestra generaciÃ³n dinÃ¡mica de SQL.

QuÃ© demuestra MADB

EncapsulaciÃ³n de conexiÃ³n.

API propia reutilizable.

Seguridad bÃ¡sica con parÃ¡metros.

AbstracciÃ³n sobre MySQL.

ğŸ”¹ C) MAORM â€“ ORM ligero basado en JSON
UbicaciÃ³n:

python/orm/MAORM.py

QuÃ© es

Una capa que permite persistir estructuras complejas usando una columna JSON.

create_table_clientes()

Crea tabla:

emails JSON


Demuestra uso de tipo JSON nativo de MySQL.

insert_cliente(cliente)

Convierte:

cliente["emails"] â†’ json.dumps(...)


Guarda estructura compleja en una sola columna.

fetch_clientes()

Recupera filas y reconstruye:

json.loads(fila[3])

QuÃ© demuestra MAORM

Persistencia de objetos complejos.

SerializaciÃ³n/deserializaciÃ³n JSON.

Concepto bÃ¡sico de ORM.

AbstracciÃ³n superior a SQL.

ğŸ”¹ D) MADB.php â€“ Conector en PHP
UbicaciÃ³n:

php/MADB.php

QuÃ© es

VersiÃ³n PHP del conector personalizado.

MÃ©todos implementados

seleccionar()

buscar()

tablas()

Utiliza:

mysqli


Y prepared statements para seguridad.

QuÃ© demuestra

DiseÃ±o multiplataforma.

Arquitectura independiente del lenguaje.

ReutilizaciÃ³n del patrÃ³n de acceso a datos.

4ï¸âƒ£ main.py â€“ Punto de entrada del sistema
UbicaciÃ³n:

python/main.py

QuÃ© hace

Permite elegir backend mediante:

--modo masql
--modo madb
--modo maorm


Y acciÃ³n:

--accion init
--accion seed
--accion list
--accion search

QuÃ© demuestra

SeparaciÃ³n de lÃ³gica y ejecuciÃ³n.

Arquitectura modular.

Interfaz de pruebas unificada.

5ï¸âƒ£ Flujo de ejecuciÃ³n

Ejemplo:

python main.py --modo masql --accion seed


Selecciona motor MASQL.

Ejecuta INSERT.

Guarda CSV.

Devuelve JSON.

6ï¸âƒ£ ComparaciÃ³n conceptual de capas
CaracterÃ­stica	MASQL	MADB	MAORM
Usa MySQL real	âŒ	âœ…	âœ…
Motor propio	âœ…	âŒ	âŒ
API personalizada	âœ…	âœ…	âœ…
Soporta JSON estructurado	âŒ	âŒ	âœ…
Multiplataforma (PHP)	âŒ	âœ…	âŒ
7ï¸âƒ£ Valor tÃ©cnico del proyecto

Este proyecto demuestra:

DiseÃ±o de sistemas por capas.

AbstracciÃ³n sobre motores de persistencia.

ImplementaciÃ³n de un mini-SGBD.

Conectores personalizados.

ORM ligero.

Multiplataforma (Python + PHP).

Persistencia estructurada y compleja.

8ï¸âƒ£ ConclusiÃ³n

MADataSuite no es una colecciÃ³n de ejercicios aislados, sino un sistema completo que:

Simula el funcionamiento de una base de datos.

Implementa un conector real a MySQL.

Construye una capa de abstracciÃ³n tipo ORM.

Replica el patrÃ³n en otro lenguaje.