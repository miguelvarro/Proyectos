Proyecto: Server Control Center

Monitorizaci√≥n de recursos y administrador del servidor

1Ô∏è‚É£ Descripci√≥n general del proyecto

El proyecto consiste en un sistema completo de monitorizaci√≥n y administraci√≥n b√°sica de un servidor local. Est√° dividido en dos grandes m√≥dulos:

Monitor de recursos del servidor

Administrador del servidor

La arquitectura combina:

üêç Python ‚Üí recolecci√≥n de m√©tricas

üêò PHP ‚Üí visualizaci√≥n, API y administraci√≥n

üìÅ CSV ‚Üí persistencia ligera de datos

üîê Basic Auth ‚Üí protecci√≥n de endpoints

El sistema permite no solo visualizar m√©tricas, sino tambi√©n controlar el proceso que las genera, lo que convierte el proyecto en algo m√°s avanzado que un simple dashboard.

2Ô∏è‚É£ Arquitectura del sistema
üîπ Flujo general
server_monitor.py  ‚Üí  genera CSV en monitor_data/
                        ‚Üì
monitor.php        ‚Üí  lee CSV y muestra gr√°ficas / API JSON
                        ‚Üì
admin.php          ‚Üí  arranca/parar monitor + estado servidor
                        ‚Üì
monitor_runner.py  ‚Üí  gestiona proceso + PID

3Ô∏è‚É£ Explicaci√≥n t√©cnica de cada componente
üêç 3.1 server_monitor.py (Motor de monitorizaci√≥n)

Es el n√∫cleo del sistema.

Qu√© hace:

Se ejecuta en bucle infinito.

Cada X segundos recoge m√©tricas del sistema.

Guarda los datos en archivos CSV.

M√©tricas recogidas:

CPU (%)

RAM (%)

Uso de disco (%)

IO disco (bytes/s)

Bandwidth red (bytes/s)

N√∫mero de procesos

Tasa de peticiones Apache (si detecta access.log)

Formato CSV:

Cada archivo sigue el mismo esquema:

ts_iso, epoch, value
2026-02-19T12:01:10,1708347670,12.000000


Esto permite:

Filtrar por rango de fechas

Dibujar gr√°ficas

Exportar f√°cilmente

Aspecto importante:

Usa psutil si est√° disponible.

Si no, tiene fallback con comandos del sistema.

Est√° dise√±ado para no depender de librer√≠as externas obligatorias.

üß† 3.2 monitor_runner.py (Gestor del servicio)

Es una capa de control profesional sobre el monitor.

Funciones:

start

stop

status

Qu√© hace t√©cnicamente:

Lanza server_monitor.py en segundo plano.

Guarda el PID en un archivo.

Permite detenerlo correctamente.

Genera logs.

Esto evita:

Procesos ‚Äúhu√©rfanos‚Äù

Bloqueos de archivos

Errores al reiniciar

Es una mejora importante frente a ejecutar directamente Python desde PHP.

üåê 3.3 monitor.php (Dashboard + API)

Cumple dos funciones:

A) Dashboard visual

Lee los CSV.

Filtra por rango temporal.

Dibuja gr√°ficas SVG sin librer√≠as externas.

Permite auto-refresh configurable.

B) API JSON

Endpoint:

monitor.php?endpoint=cpu&from=...&to=...


Devuelve:

{
  "ok": true,
  "endpoint": "cpu",
  "count": 120,
  "points": [...]
}


La API est√° protegida mediante Basic Authentication.

Esto convierte el monitor en un servicio reutilizable.

üõ† 3.4 admin.php (Administrador del servidor)

Es el m√≥dulo activo del sistema.

Funcionalidades:

Ver estado del servidor:

SO

PHP

Disco

Rutas

Estado del monitor

Arrancar monitor

Parar monitor

Ver logs del sistema

Ver procesos (bajo demanda)

Kill PID (desactivado por seguridad)

Mejora t√©cnica importante:

Se ejecuta el runner en segundo plano usando:

cmd /c start "" /B ...


Esto evita que PHP se quede bloqueado esperando a que termine el proceso.

‚öô 3.5 config.php

Centraliza:

Usuarios y contrase√±as

Rutas

Intervalos

Endpoints permitidos

Esto mejora:

Mantenibilidad

Seguridad

Escalabilidad

4Ô∏è‚É£ Funcionalidades a√±adidas (respecto a un monitor b√°sico)

Tu proyecto no es solo ‚Äúver CPU‚Äù.

Incluye mejoras reales:

‚úÖ 1. Administrador activo del monitor

No solo visualiza datos, sino que:

Arranca el servicio

Lo detiene

Verifica si est√° en ejecuci√≥n

Controla su PID

Esto lo convierte en un sistema de administraci√≥n real.

‚úÖ 2. Runner independiente

Separar server_monitor.py de su gestor:

Evita bloqueos.

Mejora estabilidad.

Permite control limpio del proceso.

Esto es arquitectura profesional.

‚úÖ 3. API JSON protegida

No solo hay interfaz gr√°fica.

Hay una API protegida por Basic Auth que:

Permite consumir m√©tricas desde otros sistemas.

Simula un servicio REST real.

‚úÖ 4. Persistencia estructurada en CSV

No es solo mostrar datos en memoria.

Se guardan en:

monitor_data/


Con formato uniforme y reutilizable.

‚úÖ 5. Logs del administrador

Cada acci√≥n queda registrada:

Arranque

Parada

Kill proceso

Esto aporta trazabilidad.

‚úÖ 6. Protecci√≥n contra bloqueos en Windows

Se implementaron mejoras para:

Evitar WMI que bloquea.

Evitar carga autom√°tica de procesos.

Ejecutar comandos en segundo plano.

Eso mejora estabilidad real.

5Ô∏è‚É£ Nivel t√©cnico del proyecto

Este proyecto demuestra:

Gesti√≥n de procesos en segundo plano.

Comunicaci√≥n entre Python y PHP.

Dise√±o modular.

Persistencia estructurada.

Seguridad b√°sica.

Administraci√≥n de servicios.

Visualizaci√≥n de m√©tricas.

Manejo de permisos y bloqueo de archivos.

No es un simple ejercicio de clase.
Es un sistema completo de monitorizaci√≥n local.

6Ô∏è‚É£ Estado actual del proyecto

‚úî Monitor funcional
‚úî Dashboard con gr√°ficas
‚úî API protegida
‚úî Administrador funcional
‚úî Runner estable
‚úî Logs
‚úî Control de procesos
‚úî Configuraci√≥n centralizada

El proyecto est√° completo y correctamente ampliado.

Si quieres, en el siguiente mensaje puedo prepararte:

Versi√≥n resumida para defensa oral (2‚Äì3 minutos)

O versi√≥n formal tipo memoria t√©cnica lista para entregar.
